---
interface Props {
  source: string;
  sourceLink?: string;
  label?: string;
}

import { FaQuoteLeft } from "react-icons/fa";

const { source, sourceLink, label = '引用元: ' } = Astro.props;
---

<figure class="wrap">
  <div class="icon">
    <FaQuoteLeft />
  </div>
  <blockquote cite={sourceLink && sourceLink} class="quote">
    <slot />
  </blockquote>
  <figcaption class="caption">
    {label}<cite>
      {sourceLink ? (
        <a href={sourceLink} target="_blank" rel="noopener noreferrer">
          {source}
        </a>
      ) : (
        <p>{source}</p>
      )}
    </cite>
  </figcaption>
</figure>

<style lang="scss">
  .wrap {
    position: relative;
    padding:4rem 3rem 2.4rem;
    border-left: .4rem solid var.$c-main-v;
    background-color: rgba(var.$c-main-v, .05);
    // box-shadow: 0 0 .8rem .4rem rgba(0,0,0,0.02);
  }

  .icon {
    position: absolute;
    left: 1.6rem;
    top: 1.6rem;
    color: var.$c-main-v;
    font-size: 1.8rem;
    display: flex;
  }

  .quote {
  }

  .caption {
    display: flex;
    justify-content: flex-end;
    gap: .4rem;
    margin-top: .8rem;
    text-align: right;
    font-size: .9em;

    cite {
      font-style: italic;
    }
  }
</style>