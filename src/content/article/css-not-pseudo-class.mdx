---
isDraft: false
title: "CSSの擬似クラス:not()の使い方とは？基本的な書き方や実用例を解説"
description: "CSSの擬似クラス:not()の特徴や活用法を解説します。特定の条件を除外して効率的にスタイルを適用する方法や、実際の案件でも使用できる実用的なコード例を紹介します。"
tags: ["css"]
publishedAt: 2024-12-17T12:00:00Z
thumbnail: "./images/css-not-pseudo-class/thumb.png"
---

import imgSupport from "@article/images/css-not-pseudo-class/support-not-argument-caniuse.png";
import imgSupport2 from "@article/images/css-not-pseudo-class/support-not-caniuse.png";
import imgSupport3 from "@article/images/css-not-pseudo-class/support-not-selector-list-argument.png";

CSSでスタイリングをしている時、「この要素にはスタイルを適用したくない」と思った経験はありませんか？

CSSではセレクタを注意深く指定しないと、意図していない要素にスタイルが適用されてしまうことがよくあります。

<Spacer />

そこで今回の記事では、CSSの擬似クラス`:not()`について解説します。

`:not()`は、**特定の要素や条件を除外してスタイルを適用することができる便利な機能**です。

この記事では、`:not()`の基本的な使い方や、実際の案件で使用できる実用例を紹介していきますので、ぜひ参考にしてみてください。

<ArticleToc />

<AdUnit />

## CSSの擬似クラス:not()の基本情報

まずは`:not()`についての基本的な情報から見ていきましょう。

`:not()`は、CSSの中では擬似クラスとして分類されます。

擬似クラスとは、要素に対して特定の状態や条件を指定してスタイルを適用するためのものです。

`:not()`は、その名の通り「〜でない」という意味を持ち、**特定の要素や条件を除外してスタイルを適用**することができます。

<AdUnit />

## :not()の基本構文

`:not()`の基本構文は以下の通りです。

<CodeHead lang="css" />

```css
セレクタ:not(除外するセレクタ) {
  /* スタイル */
}
```

いくつかの例を見ながら、`:not()`の使い方を説明していきます。

### 特定のクラスをもつ要素を除外する

まずは基本的な形から見ていきましょう。

<CodeHead lang="css" />

```css
p:not(.english) {
}
```

この場合は、`.english`というクラスが付与されていない`p`タグにスタイルを適用します。

### 子孫要素の中の特定のタグを除外する

次は、子孫要素の中で特定のタグを除外する場合です。

<CodeHead lang="css" />

```css
.box :not(p) {
}
```

このコードは、`.box`の中の`p`タグを除いた全ての子孫要素にスタイルを適用します。

子孫要素を指定する場合は、セレクタと`:not()`の間に半角スペースを入れるのを忘れないようにしましょう。

スペースがないと、意味が変わってしまうので注意が必要です。

<CodeHead lang="css" />

```css
/* スペースあり: .box中にあるpタグ以外の子孫要素を指定 */
.box :not(p) {
}

/* スペースなし: .boxというクラスが付いた要素の中で、pタグではない要素を指定 */
.box:not(p) {
}
```

### 複数の要素を除外する

`:not()`で複数の要素を指定したい場合は、以下のように記述します。

<CodeHead lang="css" />

```css
/* 古い方法 */
body :not(div):not(span) {
}

/* 新しい方法（Selector list argument） */
body :not(div, span) {
}
```

この場合は、`div`と`span`を除いた全ての子孫要素にスタイルを適用します。

どちらも同じ結果になりますが、以下のようにブラウザの対応状況が異なります。

<Img src={imgSupport} alt="selector-list-argumentの対応状況" type="border" />

どちらの方法でも95%以上のブラウザには対応しているので問題なさそうですが、もし古いブラウザにも対応させたい場合は、`:not()`を連結させる方法で記述すると良いでしょう。

### data属性を持つ要素を除外する

`:not()`は、クラスやタグだけでなく、`data`属性を持つ要素を除外することもできます。

<CodeHead lang="css" />

```css
/* disabled属性を持つbutton要素を除外 */
button:not([disabled]) {
}
```

この場合は、`disabled`属性が付与されていない`button`要素にスタイルを適用します。

<AdUnit />

## :not()の実用例3選

ここからは、実際の案件でもよく使われる`:not()`の実用例を紹介していきます。

### 1. 最後の要素以外にスタイルを適用する

同じデザインの要素が繰り返し並んでいる場合、「最後の要素だけスタイルを変えたい」というケースがよくあります。

ここでは例として、`ul`要素の中の一番最後の`li`にだけボーダーを付けないという場合を考えてみましょう。

このような場合では、一般的には以下のように記述することが多いですね。

<CodeHead lang="css" />

```css
/* :not()を使用しない例 */
li {
  border-bottom: 1px solid #ccc;
}

li:last-child {
  border-bottom: none;
}
```

一度全ての`li`要素にボーダーを付け、その後最後の要素のボーダーを削除するという方法です。

しかし、一度全体に適用してから部分的に削除するというのは、コード的にも綺麗ではありませんね。

<Spacer />

こういった場面では、`:not()`を使うことでより簡潔に記述することができます。

<CodeHead lang="css" />

```css
/* :not()を使用する例 */
li:not(:last-child) {
  border-bottom: 1px solid #ccc;
}
```

このコードでは、`li`の最後の要素`:last-child`以外にスタイルを適用するという意味になり、結果的に少ないコードで効率的に記述することができます。

### 2. 指定した倍数以外の要素にスタイルを適用する

上記の例と少し似ていますが、`:nth-child()`と併用することで、指定した倍数以外の要素にスタイルを適用することもできます。

例えば、3つの要素が横並びで複数列になっている場合、3の倍数以外の要素にスタイルを適用するというケースです。

<CodeHead lang="css" />

```css
/* 3の倍数以外の要素にスタイルを適用 */
li:not(:nth-child(3n)) {
  margin-right: 30px;
}
```

このコードでは、3の倍数以外の要素、つまり右端の要素以外にのみ`margin-right`を適用するという意味になります。

この場合も上の例と同様、`:not()`を使用しない場合は打ち消しのスタイルを記述する必要があるので、ぜひ`:not()`を使用してみてください。

### 3. クラスが付与されていない要素にスタイルを適用する

続いては、`class`が付与されていない要素にスタイルを適用するケースです。

<CodeHead lang="css" />

```css
/* クラスが付与されていない要素にスタイルを適用 */
p:not([class]) {
  font-size: 16px;
  line-height: 1.5;
}
```

この場合、`class`がない`p`タグのみを指定してスタイルを適用するという意味になります。

`class`が付与されていない、いわばプレーンな要素に対してのみスタイルを適用できるのが強みですね。

<CodeHead lang="html" />

```html
<p>クラスが付与されていない段落です。</p>
<p>クラスが付与されていない段落です。</p>
<p class="sample">クラスが付与されている段落です。このタグにはスタイルが適用されません。</p>
```

上記のようなHTMLだと、最初の2つの`p`タグにだけスタイルが適用され、3つ目の`p`タグにはスタイルが適用されません。

<Spacer />

#### ブログ記事内の要素をスタイリングする際に最適

個人的には、ブログの記事本文のスタイルを指定する際によく使用しています。

例えば、ブログ記事内の`ol`タグには、グレーの背景と余白を付けたいというケースがあるとします。

1. olタグのサンプルです
2. 背景色と余白が付いています

<Spacer />

これを`:not()`を使用せずに実装する場合、まずは以下のように全ての`ol`タグに対してスタイルを記述することになります。

<CodeHead lang="css" />

```css
.blog-content ol {
  background-color: #f5f5f5;
  padding: 20px;
}
```

この場合、`.blog-content`の中の全ての`ol`タグは、背景色と余白が付与されますね。

<Spacer />

しかしブログ記事には、目次や人気記事ランキングなど、`ol`タグが使用されている要素が他にもある場合が多いです。

<CodeHead lang="html" />

```html
<div class="blog-content">
  <ol class="toc-list">
    <li>目次1</li>
    <li>目次2</li>
    <li>目次3</li>
  </ol>
  <!-- ブログコンテンツが入ります -->
  <ol>
    <li>サンプルテキスト</li>
    <li>サンプルテキスト</li>
    <li>サンプルテキスト</li>
  </ol>
</div>
```

このようなケースで`.toc-list`に独自のスタイルを当てたい場合、まず共通のスタイルを打ち消してから装飾する必要があります。

<CodeHead lang="css" />

```css showLineNumbers {9-11}
/* olの共通スタイル */
.blog-content ol {
  background-color: #f5f5f5;
  padding: 20px;
}

/* 目次のスタイル */
.blog-content ol.toc-list {
  /* スタイルを打ち消し */
  background-color: transparent;
  padding: 0;

  /* ここから.toc-listのスタイルを記述 */
}
```

先ほどの例と同様、一度打ち消してから新たにスタイルを書き足す必要があるので、コードとしては好ましくありません。

このような場合、`:not()`を使用することで解決することができます。

<CodeHead lang="css" />

```css
/* クラスが付与されていないolタグに共通のスタイル */
.blog-content ol:not([class]) {
  background-color: #f5f5f5;
  padding: 20px;
}

.blog-content ol.toc-list {
  /* .toc-listのスタイル */
}
```

このように記述することで、

- クラスがついていない`ol`タグには共通のスタイルを適用
- クラスが付与されている`ol`タグには独自のスタイルを適用

ということが可能になります。

これで、ブログ記事内のプレーンな`ol`タグと、その他独自のカスタマイズが必要な`ol`タグを効率的にスタイリングすることができますね。

<AdUnit />

## :not()のブラウザ対応状況

最後に、`:not()`のブラウザ対応状況について見ていきましょう。（2024年10月時点の情報です）

`:not()`はCSS3から導入された機能ですので、ほぼ全てのブラウザで使用することができます。

<Img src={imgSupport2} alt=":not()のブラウザ対応状況" type="border" />

全体の95.5%のブラウザに対応しているので、問題なく使用できますね。

<Spacer />

基本構文の章でも触れましたが、`:not()`で複数要素を指定する場合に、コンマで区切る方法は古いブラウザでは対応していません。

<CodeHead lang="css" />

```css
body :not(div, span) {
}
```

それでも95.09%のブラウザに対応しているので、古いブラウザを気にしない場合は問題なく使用できるでしょう。

<Img src={imgSupport3} alt=":not()selector list argumentのブラウザ対応状況" type="border" />

<AdUnit />

## 【まとめ】:not()のメリットと実用的な使用例

以上、`:not()`擬似クラスの基本情報や実用例を紹介しました。

`:not()`を活用することで、**無駄な打ち消し用のスタイルを記述する必要がなくなり、コードをより簡潔に保つ**ことができます。

当記事を参考に、ぜひ`:not()`を活用してみてください。
