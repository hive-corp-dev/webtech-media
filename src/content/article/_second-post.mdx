---
isDraft: false
title: "CSSの擬似クラス:has()とは？メリットや具体的な使用例を解説"
description: "最初の投稿のディスクリプションです"
tags: ["next-js", "css", "vercel", "netlify", "jamstack"]
publishedAt: 2024-12-01T10:00:00Z
revisedAt: 2024-12-15T10:00:00Z
thumbnail: "./images/css-has-pseudo-class/thumb.png"
---

皆さんは CSS の`:has()`擬似クラスをご存知でしょうか？

<CodeHead name="css" lang="js" />

```js showLineNumbers
const a = "a";
const thisIsAButton = document.querySelector(".this-is-a-button-for-an-example-article");
```

<CodeHead name="/app/js/script.js" lang="php" />

```php showLineNumbers
/**
 * Registers the footnotes meta field required for footnotes to work.
 *
 * @since 6.5.0
 */
function register_block_core_footnotes_post_meta() {
  $post_types = get_post_types( array( 'show_in_rest' => true ) );
  foreach ( $post_types as $post_type ) {
    // Only register the meta field if the post type supports the editor, custom fields, and revisions.
    if (
      post_type_supports( $post_type, 'editor' ) &&
      post_type_supports( $post_type, 'custom-fields' ) &&
      post_type_supports( $post_type, 'revisions' )
    ) {
      register_post_meta(
      $post_type,
      'footnotes',
      array(
        'show_in_rest'      => true,
        'single'            => true,
        'type'              => 'string',
        'revisions_enabled' => true,
        )
      );
    }
  }
}
```

2023年12月に主要ブラウザでのサポートが完了した、比較的新しめの機能ですが、

- `:has()`にはどんなメリットがあるの？
- `:has()`は具体的にどんな場面で使用できるの？

と疑問に思われている方もいるのではないでしょうか。

そこで今回の記事では、`:has()`についての説明やメリット、実際の案件で使用できる具体例について解説します。

<ArticleToc />

## 擬似クラス:has()の基本情報

まずは、`:has()`の基本的な情報から説明していきます。

`:has()`は、CSS の中では"擬似クラス"の一つとして分類されます。

擬似クラスとは、選択した要素の特定の状態を指定するためのもので、`:hover`や`:nth-child()`などが代表的ですね。

<InfoBox type="success" icon="success">
  続いては子要素や子孫要素ではなく、隣接する要素に応じてスタイルを適用する場合を見ていきましょう。このコードでは、`.card`要素の子孫要素に`img`タグがある場合、スタイルを適用するという意味になります。
</InfoBox>

### 親要素の子孫要素によってスタイルを適用する場合

まずは、基本的な形から説明していきます。

このコードでは、`.card`要素の子孫要素に`img`タグがある場合、スタイルを適用するという意味になります。

<InfoBox type="warning" icon="warning">
  続いては子要素や子孫要素ではなく、隣接する要素に応じてスタイルを適用する場合を見ていきましょう。このコードでは、`.card`要素の子孫要素に`img`タグがある場合、スタイルを適用するという意味になります。
</InfoBox>

### 隣接する要素によってスタイルを適用する場合

続いては子要素や子孫要素ではなく、隣接する要素に応じてスタイルを適用する場合を見ていきましょう。

このコードでは、`h1`タグの直後に`img`タグがある場合、`h1`にスタイルを適用するという意味になります。

`:has`の条件式に`+`（隣接結合子）を使用することで、隣接する要素に限定することが可能です。

ここで注目すべきは、`img`ではなく`h1`にスタイルが適用されるということですね。

## 擬似クラス:has()のメリット

`:has()`を使用することで、どのようなメリットがあるのでしょうか？

### メリット 1. 余分なクラスを作成する必要がなくなる

`:has()`を使用することで、**余分なクラスを作成することが不要になる**場合があります。

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

- サムネイル画像がある場合は、`display: flex`を追加する
- サムネイル画像がない場合は、何も追加しない

#### サムネイル画像がある場合

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

#### サムネイル画像がある場合

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

##### これはサムネイル画像がある場合のスタイルです

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

###### これはサムネイル画像がある場合のスタイルです

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

ここでは、よくある記事リンクカードを例として、サムネイル画像がある場合、ない場合でスタイルを分ける方法を見てみましょう。

あいうえお
